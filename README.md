
<!--
NOTE: README.md is generated from this file, README.Rmd. Please edit here.
&#10;SPDX-FileCopyrightText: 2025 Johannes Keyser <johannes.keyser@uni-hamburg.de>
SPDX-License-Identifier: EUPL-1.2
-->

# c2dParseR

> \[!warning\] 🚧 *This is work in progress, please tread with care.* 🚧

An R package to work with the `.c2d` file format from Cyclus2
ergometers.

<!-- badges: start -->

<!-- badges: end -->

The goal of c2ParseR is to provide tools for working with `.c2d` files
generated by [Cyclus2 cycling ergometers](https://www.cyclus2.com/en/)
by RBM elektronik-automation GmbH. On a high level, `.c2d` files are
just zipped XML text files with custom content.

## Motivation

Working with Cyclus2 data in their native `.c2d` file format has several
advantages over any derived, exported file format:

- Access everything: Only `.c2d` files contain all data:
  - The `.c2d` files include all information, such as bike settings that
    are impossible to export.
  - Depending on the export settings, exported files may not contain all
    data of (later) interest, or may lack numerical precision.
- Simpler procedure: When recording data, there is no need to save the
  same data twice (1x as `.c2d` for archiving, and 1x export for
  analysis). Saving only `.c2d` files results in fewer error-prone steps
  that may be forgotten.
- Interoperability: Even within a single lab, agreeing on an export
  format would take time and effort, and any change may make previously
  exported data incompatible. In contrast, `.c2d` files are the same,
  even across labs; analysis scripts remain compatible.

## Installation

You can install the development version of c2dParseR from
[GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("dhprlab/c2dParseR")
```

## Example

This is a basic example which shows you how to solve a common problem:

``` r
library(c2dParseR)
# data <- c2dimport("path/to/your/example.xml")
```

## Roadmap

- Implement basic import of all useful `.c2d` information into R data
  structures.
- Prepare for installation from GitLab/GitHub as initial distribution
  channels.
- Implement data validation and error handling.
- Prepare for installation from CRAN.
- Figure out if measurement units should be added to R data structures.
- Figure out export into BIDS format; maybe using an existing package?
- Add example data sets for which consent into “unlimited” data use is
  clarified.
- Write tests against the example data sets.

## Example data

We plan to include example data into this project. Please DO NOT include
data, unless you have explicit consent from the data owner.

## Contributing

Any contribution is very welcome. The primary way to contribute is via
GitHub, at <https://github.com/dhprlab/c2dparseR>.

This project follows the workflow recommendations from the book *R
Packages* by Hadley Wickham and Jennifer Bryan, <https://r-pkgs.org/>.

## Authors

- Johannes Keyser, <johannes.keyser@uni-hamburg.de>

## Licensing

Licensed under the European Union Public License v. 1.2 (EUPL-1.2). See
full license text in English at [LICENSE.txt](LICENSE.txt); for other
languages, see
<https://interoperable-europe.ec.europa.eu/collection/eupl/eupl-text-eupl-12>.

Note: Dual-licensing for code and example data was considered, but
deemed impractical due to CRAN’s restriction to use a single license.
